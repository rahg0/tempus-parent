name: Cloud Security IaC Scan
on:
  push:
    branches:
      - master
      - main
  pull_request:
    paths:
      - '**.tf'
      - '**.json'
      - '**.yml'
      - '**.yaml'
    types: [opened, synchronize, reopened]
permissions: 
  actions: read
  contents: read
  checks: write
  issues: write
  pull-requests: write
  security-events: write
  statuses: write
jobs:
  Scan:
    uses: rahg0/tempus-child/.github/workflows/cloudsec-iac.yml@main
    with:
      project_key: ccp
      path: "./"
    secrets: inherit
